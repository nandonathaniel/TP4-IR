Alyson Hannigan as Lily Aldrin , a kindergarten teacher , aspiring artist , and Marshall 's wife . She is terrible at keeping secrets , and can be manipulative at times . She marries Marshall in season 2 and gives birth to Marvin in season 7 . Though appearing sweet and cute , Lily can be quite unexpectedly fierce . Alyson 's husband Alexis Denisof has appeared on 10 episodes on the show as Sandy Rivers .