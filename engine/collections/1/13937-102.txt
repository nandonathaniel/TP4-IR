Ted tells his children he met their mother through a story concerning her yellow umbrella . He finds the umbrella at a club and takes it home after attending a St. Patrick 's Day party where his future wife was , although they did not meet . Ted attempts to woo Stella ( Sarah Chalke ) , a dermatologist he sees to remove an embarrassing butterfly tattoo . This culminates in a memorable `` two - minute date , '' which incorporates small talk , dinner , a movie , coffee , two cab rides , and a goodnight kiss , all within two minutes . Robin sleeps with Barney after he comforts her following a break - up with a past Canadian love ; Ted is infuriated , and decides to stop being friends with Barney . Meanwhile , an unknown woman begins to sabotage Barney 's attempts to hook up . His saboteur is revealed to be Abby ( Britney Spears ) , Stella 's receptionist , with a vendetta against him for not calling her after they had sex .