Despite being removed from Algeria in the 19th century , Spain retained a presence in Morocco . Algeria consistently opposed Spanish fortresses and control in nearby Morocco through the 20th century .