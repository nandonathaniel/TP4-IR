Kenneth Branagh as Gilderoy Lockhart , a celebrity author and the new Defence Against the Dark Arts teacher at Hogwarts . Hugh Grant is said to have been the first choice for the role but due to reported scheduling conflicts he was unable to play the character . On 25 October 2001 , Branagh was selected as Grant 's replacement .