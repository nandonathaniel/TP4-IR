During the early middle ages , the Italian peninsula was conquered by the Goths , the Byzantines and the Lombards , until Pope Leo III crowned Charlemagne Holy Roman Emperor the day of Christmas of the year 800 in Rome . The Roman Pontiff and the German Emperor became the universal powers of Italy and Europe , but soon entered in conflict for the investiture controversy and the clash between their factions : the Guelphs and Ghibellines . The struggle for power between the Papacy and the Empire led to the decline of Imperial influence in Italy , especially after the Humiliation of Canossa of Emperor Henry IV and the victory of Italian forces over Friedrich Barbarossa in the Battle of Legnano : by the 12th century Italy was organized in independent city - states .