While the Umayyads and the Hashimites may have had bitterness between the two clans before Muhammad , the rivalry turned into a severe case of tribal animosity after the Battle of Badr . The battle saw three top leaders of the Umayyad clan ( Utba ibn Rabi'ah , Walid ibn Utbah and Shaybah ) killed by Hashimites ( Ali , Hamza ibn ' Abd al - Muttalib and Ubaydah ibn al - Harith ) in a three - on - three melee . This fueled the opposition of Abu Sufyan ibn Harb , the grandson of Umayya , to Muhammad and to Islam .