Along with Mahone , Waul led successful counterattack at the Crater at Petersburg , Virginia , July 30 , 1864 .