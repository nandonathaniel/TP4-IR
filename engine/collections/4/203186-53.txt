As a result of Denmark 's neutrality in the First World War , Copenhagen prospered from trade with both Britain and Germany while the city 's defences were kept fully manned by some 40,000 soldiers for the duration of the war .