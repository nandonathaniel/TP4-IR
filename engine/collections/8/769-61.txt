Principal photography began on May 17 , 2010 , using 20 locations all within the Pittsburgh metropolitan area . DreamWorks selected the area primarily due to tax incentives from the Pennsylvania Film Production Tax Credit . The film studio also had a positive experience shooting She 's Out of My League in Pittsburgh in 2008 . The production was scheduled to last 12 to 13 weeks .