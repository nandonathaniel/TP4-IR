Treaty of Wanghia First diplomatic agreement between China and the United States in history .