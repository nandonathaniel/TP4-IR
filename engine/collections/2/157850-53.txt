Tilak authored `` Shrimadh Bhagvad Gita Rahasya '' in prison at Mandalay -- the analysis of ' Karma Yoga ' in the Bhagavad Gita , which is known to be gift of the Vedas and the Upanishads .