The struggle culminates in the great battle of Kurukshetra , in which the Pandavas are ultimately victorious . The battle produces complex conflicts of kinship and friendship , instances of family loyalty and duty taking precedence over what is right , as well as the converse .