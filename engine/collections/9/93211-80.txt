However , a Royalist resistance stood still in southern Chile , allied with the Mapuches . On April 4 , Argentine Colonel Juan Gregorio de Las Heras had occupied Concepción , but the Royalists retreated to Talcahuano . In early 1818 , Royalist reinforcements from the Viceroyalty of Peru arrived , commanded by general Mariano Osorio , and advanced towards the capital . San Martín then turned to scorched earth tactics and ordered the evacuation of Concepción , which he thought was impossible to defend . On 18 February 1818 , the first anniversary of the battle of Chacabuco , Chile declared its independence from the Spanish Crown .