The legislation is considered liberal and allows the free purchase of semi-automatic , but not fully automatic , firearms by Swiss citizens and foreigners with permanent residence .