Pernicious anemia is an autoimmune disease wherein the body lacks intrinsic factor , required to absorb vitamin B from food . Vitamin B is needed for the production of hemoglobin .